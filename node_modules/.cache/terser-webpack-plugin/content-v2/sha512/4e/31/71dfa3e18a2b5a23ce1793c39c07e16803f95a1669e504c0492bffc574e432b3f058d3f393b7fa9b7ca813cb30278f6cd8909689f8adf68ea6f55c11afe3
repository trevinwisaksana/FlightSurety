{"code":"exports.id=0,exports.modules={\"./src/server/server.js\":function(e,o,s){\"use strict\";s.r(o);var t=s(\"./build/contracts/FlightSuretyApp.json\"),n=s(\"./src/server/config.json\"),r=s(\"web3\"),c=s.n(r),a=s(\"express\"),l=s.n(a),i=n.localhost,u=new c.a(new c.a.providers.WebsocketProvider(i.url.replace(\"http\",\"ws\")));u.eth.defaultAccount=u.eth.accounts[0];var d=new u.eth.Contract(t.abi,i.appAddress),f=[],h=[0,10,20,30,40,50];u.eth.getAccounts().then((function(e){for(var o=function(o){d.methods.registerOracle().send({from:e[o],value:u.utils.toWei(\"1\",\"ether\"),gas:3e6}).catch((function(e){return console.log(\"Failed to register oracle: \".concat(e))})).then((function(s){d.methods.getMyIndexes().call({from:e[o]}),console.log(\"Successfully registered oracle: \",e[o])})).then((function(s){console.log(\"Indexes: \",s);var t={address:e[o],indexes:s};f.push(t)}))},s=0;s<20;s++)o(s)})),d.events.OracleRequest({fromBlock:0},(function(e,o){e&&console.log(e),f.forEach((function(e){var s=h[Math.floor(Math.random()*h.length)];console.log(\"Random status code: \",s),console.log(\"Response submitted: \",JSON.stringify(o)),d.methods.submitOracleResponse(o.index,o.airline,o.flight,o.timestamp,s).send({from:e.address,gas:3e6})}))}));var g=l()();g.get(\"/api\",(function(e,o){o.send({message:\"An API for use with your Dapp!\"})})),o.default=g}};","extractedComments":[]}